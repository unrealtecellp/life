{"version":3,"file":"wavesurfer.markers.js","mappings":"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","sources":["webpack://WaveSurfer/webpack/universalModuleDefinition","webpack://WaveSurfer/./src/plugin/markers/index.js","webpack://WaveSurfer/webpack/bootstrap","webpack://WaveSurfer/webpack/before-startup","webpack://WaveSurfer/webpack/startup","webpack://WaveSurfer/webpack/after-startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"WaveSurfer\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"WaveSurfer\"] = factory();\n\telse\n\t\troot[\"WaveSurfer\"] = root[\"WaveSurfer\"] || {}, root[\"WaveSurfer\"][\"markers\"] = factory();\n})(self, () => {\nreturn ","/**\n * @typedef {Object} MarkerParams\n * @desc The parameters used to describe a marker.\n * @example wavesurfer.addMarker(regionParams);\n * @property {number} time The time to set the marker at\n * @property {?label} string An optional marker label\n * @property {?tooltip} string An optional marker tooltip\n * @property {?color} string Background color for marker\n * @property {?position} string \"top\" or \"bottom\", defaults to \"bottom\"\n * @property {?markerElement} element An HTML element to display instead of the default marker image\n * @property {?draggable} boolean Set marker as draggable, defaults to false\n * @property {?boolean} preventContextMenu Determines whether the context menu\n * is prevented from being opened, defaults to false\n */\n\n\n/**\n * Markers are points in time in the audio that can be jumped to.\n *\n * @implements {PluginClass}\n *\n * @example\n * import MarkersPlugin from 'wavesurfer.markers.js';\n *\n * // if you are using <script> tags\n * var MarkerPlugin = window.WaveSurfer.markers;\n *\n * // ... initialising wavesurfer with the plugin\n * var wavesurfer = WaveSurfer.create({\n *   // wavesurfer options ...\n *   plugins: [\n *     MarkersPlugin.create({\n *       // plugin options ...\n *     })\n *   ]\n * });\n */\n\nconst DEFAULT_FILL_COLOR = \"#D8D8D8\";\nconst DEFAULT_POSITION = \"bottom\";\n\nexport default class MarkersPlugin {\n    /**\n     * @typedef {Object} MarkersPluginParams\n     * @property {?MarkerParams[]} markers Initial set of markers\n     * @fires MarkersPlugin#marker-click\n     * @fires MarkersPlugin#marker-drag\n     * @fires MarkersPlugin#marker-drop\n     */\n\n    /**\n     * Markers plugin definition factory\n     *\n     * This function must be used to create a plugin definition which can be\n     * used by wavesurfer to correctly instantiate the plugin.\n     *\n     * @param {MarkersPluginParams} params parameters use to initialise the plugin\n     * @since 4.6.0\n     * @return {PluginDefinition} an object representing the plugin\n     */\n    static create(params) {\n        return {\n            name: 'markers',\n            deferInit: params && params.deferInit ? params.deferInit : false,\n            params: params,\n            staticProps: {\n                addMarker(options) {\n                    if (!this.initialisedPluginList.markers) {\n                        this.initPlugin('markers');\n                    }\n                    return this.markers.add(options);\n                },\n                clearMarkers() {\n                    this.markers && this.markers.clear();\n                }\n            },\n            instance: MarkersPlugin\n        };\n    }\n\n    constructor(params, ws) {\n        this.params = params;\n        this.wavesurfer = ws;\n        this.util = ws.util;\n        this.style = this.util.style;\n        this.markerLineWidth = 1;\n        this.markerWidth = 11;\n        this.markerHeight = 22;\n        this.dragging = false;\n\n\n        this._onResize = () => {\n            this._updateMarkerPositions();\n        };\n\n        this._onBackendCreated = () => {\n            this.wrapper = this.wavesurfer.drawer.wrapper;\n            if (this.params.markers) {\n                this.params.markers.forEach(marker => this.add(marker));\n            }\n            window.addEventListener('resize', this._onResize, true);\n            window.addEventListener('orientationchange', this._onResize, true);\n            this.wavesurfer.on('zoom', this._onResize);\n\n            if (!this.markers.find(marker => marker.draggable)){\n                return;\n            }\n\n            this.onMouseMove = (e) => this._onMouseMove(e);\n            window.addEventListener('mousemove', this.onMouseMove);\n\n            this.onMouseUp = (e) => this._onMouseUp(e);\n            window.addEventListener(\"mouseup\", this.onMouseUp);\n        };\n\n        this.markers = [];\n        this._onReady = () => {\n            this.wrapper = this.wavesurfer.drawer.wrapper;\n            this._updateMarkerPositions();\n        };\n    }\n\n    init() {\n        // Check if ws is ready\n        if (this.wavesurfer.isReady) {\n            this._onBackendCreated();\n            this._onReady();\n        } else {\n            this.wavesurfer.once('ready', this._onReady);\n            this.wavesurfer.once('backend-created', this._onBackendCreated);\n        }\n    }\n\n    destroy() {\n        this.wavesurfer.un('ready', this._onReady);\n        this.wavesurfer.un('backend-created', this._onBackendCreated);\n\n        this.wavesurfer.un('zoom', this._onResize);\n\n        window.removeEventListener('resize', this._onResize, true);\n        window.removeEventListener('orientationchange', this._onResize, true);\n\n        if (this.onMouseMove) {\n            window.removeEventListener('mousemove', this.onMouseMove);\n        }\n        if (this.onMouseUp) {\n            window.removeEventListener(\"mouseup\", this.onMouseUp);\n        }\n\n        this.clear();\n    }\n\n    /**\n     * Add a marker\n     *\n     * @param {MarkerParams} params Marker definition\n     * @return {object} The created marker\n     */\n    add(params) {\n        let marker = {\n            time: params.time,\n            label: params.label,\n            tooltip: params.tooltip,\n            color: params.color || DEFAULT_FILL_COLOR,\n            position: params.position || DEFAULT_POSITION,\n            draggable: !!params.draggable,\n            preventContextMenu: !!params.preventContextMenu\n        };\n\n        marker.el = this._createMarkerElement(marker, params.markerElement);\n\n        this.wrapper.appendChild(marker.el);\n        this.markers.push(marker);\n        this._updateMarkerPositions();\n\n        this._registerEvents();\n\n        return marker;\n    }\n\n    /**\n     * Remove a marker\n     *\n     * @param {number} index Index of the marker to remove\n     */\n    remove(index) {\n        let marker = this.markers[index];\n        if (!marker) {\n            return;\n        }\n        let label = marker.el.getElementsByClassName(\"marker-label\")[0];\n        if (label) {\n            if (label._onContextMenu) {\n                label.removeEventListener(\"contextmenu\", label._onContextMenu);\n            }\n            if (label._onClick) {\n                label.removeEventListener(\"click\", label._onClick);\n            }\n            if (label._onMouseDown) {\n                label.removeEventListener(\"mousedown\", label._onMouseDown);\n            }\n        }\n\n        this.wrapper.removeChild(marker.el);\n        this.markers.splice(index, 1);\n\n        this._unregisterEvents();\n    }\n\n    _createPointerSVG(color, position) {\n        const svgNS = \"http://www.w3.org/2000/svg\";\n\n        const el = document.createElementNS(svgNS, \"svg\");\n        const polygon = document.createElementNS(svgNS, \"polygon\");\n\n        el.setAttribute(\"viewBox\", \"0 0 40 80\");\n\n        polygon.setAttribute(\"id\", \"polygon\");\n        polygon.setAttribute(\"stroke\", \"#979797\");\n        polygon.setAttribute(\"fill\", color);\n        polygon.setAttribute(\"points\", \"20 0 40 30 40 80 0 80 0 30\");\n        if ( position == \"top\" ) {\n            polygon.setAttribute(\"transform\", \"rotate(180, 20 40)\");\n        }\n\n        el.appendChild(polygon);\n\n        this.style(el, {\n            width: this.markerWidth + \"px\",\n            height: this.markerHeight + \"px\",\n            \"min-width\": this.markerWidth + \"px\",\n            \"margin-right\": \"5px\",\n            \"z-index\": 4\n        });\n        return el;\n    }\n\n    _createMarkerElement(marker, markerElement) {\n        let label = marker.label;\n        let tooltip = marker.tooltip;\n\n        const el = document.createElement('marker');\n        el.className = \"wavesurfer-marker\";\n\n        this.style(el, {\n            position: \"absolute\",\n            height: \"100%\",\n            display: \"flex\",\n            overflow: \"hidden\",\n            \"flex-direction\": (marker.position == \"top\" ? \"column-reverse\" : \"column\")\n        });\n\n        const line = document.createElement('div');\n        const width = markerElement ? markerElement.width : this.markerWidth;\n        marker.offset = (width - this.markerLineWidth) / 2;\n        this.style(line, {\n            \"flex-grow\": 1,\n            \"margin-left\": marker.offset + \"px\",\n            background: \"black\",\n            width: this.markerLineWidth + \"px\",\n            opacity: 0.1\n        });\n        el.appendChild(line);\n\n        const labelDiv = document.createElement('div');\n        const point = markerElement || this._createPointerSVG(marker.color, marker.position);\n        if (marker.draggable){\n            point.draggable = false;\n        }\n        labelDiv.appendChild(point);\n\n        if ( label ) {\n            const labelEl = document.createElement('span');\n            labelEl.innerText = label;\n            labelEl.setAttribute('title', tooltip);\n            this.style(labelEl, {\n                \"font-family\": \"monospace\",\n                \"font-size\": \"90%\"\n            });\n            labelDiv.appendChild(labelEl);\n        }\n\n        this.style(labelDiv, {\n            display: \"flex\",\n            \"align-items\": \"center\",\n            cursor: \"pointer\"\n        });\n        labelDiv.classList.add(\"marker-label\");\n\n        el.appendChild(labelDiv);\n\n        labelDiv._onClick = (e) => {\n            e.stopPropagation();\n            // Click event is caught when the marker-drop event was dispatched.\n            // Drop event was dispatched at this moment, but this.dragging\n            // is waiting for the next tick to set as false\n            if (this.dragging){\n                return;\n            }\n            this.wavesurfer.setCurrentTime(marker.time);\n            this.wavesurfer.fireEvent(\"marker-click\", marker, e);\n        };\n        labelDiv.addEventListener(\"click\", labelDiv._onClick);\n\n        labelDiv._onContextMenu = (e) => {\n            if (marker.preventContextMenu) {\n                e.preventDefault();\n            }\n            this.wavesurfer.fireEvent(\"marker-contextmenu\", marker, e);\n        };\n        labelDiv.addEventListener(\"contextmenu\", labelDiv._onContextMenu);\n\n        if (marker.draggable) {\n            labelDiv._onMouseDown = () => {\n                this.selectedMarker = marker;\n            };\n            labelDiv.addEventListener(\"mousedown\", labelDiv._onMouseDown);\n        }\n        return el;\n    }\n\n    _updateMarkerPositions() {\n        for ( let i = 0 ; i < this.markers.length; i++ ) {\n            let marker = this.markers[i];\n            this._updateMarkerPosition(marker);\n        }\n    }\n\n    /**\n     * Update a marker position based on its time property.\n     *\n     * @private\n     * @param {MarkerParams} params The marker to update.\n     * @returns {void}\n     */\n    _updateMarkerPosition(params) {\n        const duration = this.wavesurfer.getDuration();\n        const elementWidth =\n            this.wavesurfer.drawer.width /\n            this.wavesurfer.params.pixelRatio;\n\n        const positionPct = Math.min(params.time / duration, 1);\n        const leftPx = ((elementWidth * positionPct) - params.offset);\n        this.style(params.el, {\n            \"left\": leftPx + \"px\",\n            \"max-width\": (elementWidth - leftPx) + \"px\"\n        });\n    }\n\n    /**\n     * Fires `marker-drag` event, update the `time` property for the\n     * selected marker based on the mouse position, and calls to update\n     * its position.\n     *\n     * @private\n     * @param {MouseEvent} event The mouse event.\n     * @returns {void}\n     */\n    _onMouseMove(event) {\n        if (!this.selectedMarker){\n            return;\n        }\n        if (!this.dragging){\n            this.dragging = true;\n            this.wavesurfer.fireEvent(\"marker-drag\", this.selectedMarker, event);\n        }\n        this.selectedMarker.time = this.wavesurfer.drawer.handleEvent(event) * this.wavesurfer.getDuration();\n        this._updateMarkerPositions();\n    }\n\n    /**\n     * Fires `marker-drop` event and unselect the dragged marker.\n     *\n     * @private\n     * @param {MouseEvent} event The mouse event.\n     * @returns {void}\n     */\n    _onMouseUp(event) {\n        if (this.selectedMarker) {\n            setTimeout(() => {\n                this.selectedMarker = false;\n                this.dragging = false;\n            }, 0);\n        }\n\n        if (!this.dragging) {\n            return;\n        }\n\n        event.stopPropagation();\n        const duration = this.wavesurfer.getDuration();\n        this.selectedMarker.time = this.wavesurfer.drawer.handleEvent(event) * duration;\n        this._updateMarkerPositions();\n        this.wavesurfer.fireEvent(\"marker-drop\", this.selectedMarker, event);\n    }\n\n    _registerEvents() {\n        if (!this.markers.find(marker => marker.draggable)) {\n            return;\n        }\n        //we have some draggable markers, check for listeners\n        if (!this.onMouseMove) {\n            this.onMouseMove = (e) => this._onMouseMove(e);\n            window.addEventListener('mousemove', this.onMouseMove);\n        }\n\n        if (!this.onMouseUp) {\n            this.onMouseUp = (e) => this._onMouseUp(e);\n            window.addEventListener(\"mouseup\", this.onMouseUp);\n        }\n    }\n\n    _unregisterEvents() {\n        if (this.markers.find(marker => marker.draggable)) {\n            return;\n        }\n        //we don't have any draggable markers, unregister listeners\n        if (this.onMouseMove) {\n            window.removeEventListener('mousemove', this.onMouseMove);\n            this.onMouseMove = null;\n        }\n        if (this.onMouseUp) {\n            window.removeEventListener(\"mouseup\", this.onMouseUp);\n            this.onMouseUp = null;\n        }\n    }\n\n    /**\n     * Remove all markers\n     */\n    clear() {\n        while ( this.markers.length > 0 ) {\n            this.remove(0);\n        }\n    }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./src/plugin/markers/index.js\");\n",""],"names":["DEFAULT_FILL_COLOR","DEFAULT_POSITION","MarkersPlugin","params","ws","wavesurfer","util","style","markerLineWidth","markerWidth","markerHeight","dragging","_onResize","_updateMarkerPositions","_onBackendCreated","wrapper","drawer","markers","forEach","marker","add","window","addEventListener","on","find","draggable","onMouseMove","e","_onMouseMove","onMouseUp","_onMouseUp","_onReady","isReady","once","un","removeEventListener","clear","time","label","tooltip","color","position","preventContextMenu","el","_createMarkerElement","markerElement","appendChild","push","_registerEvents","index","getElementsByClassName","_onContextMenu","_onClick","_onMouseDown","removeChild","splice","_unregisterEvents","svgNS","document","createElementNS","polygon","setAttribute","width","height","createElement","className","display","overflow","line","offset","background","opacity","labelDiv","point","_createPointerSVG","labelEl","innerText","cursor","classList","stopPropagation","setCurrentTime","fireEvent","preventDefault","selectedMarker","i","length","_updateMarkerPosition","duration","getDuration","elementWidth","pixelRatio","positionPct","Math","min","leftPx","event","handleEvent","setTimeout","remove","name","deferInit","staticProps","addMarker","options","initialisedPluginList","initPlugin","clearMarkers","instance"],"sourceRoot":""}